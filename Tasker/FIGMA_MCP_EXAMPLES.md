# Примеры использования MCP с Figma для проекта Tasker

## Основные команды для работы с дизайном

### 1. Генерация SwiftUI кода из дизайна

После выбора элемента в Figma, используйте следующие команды в вашем MCP-клиенте:

```
Сгенерируй выбранный элемент в Figma как SwiftUI View для проекта Tasker
```

```
Создай SwiftUI компонент на основе выбранного дизайна с использованием архитектуры проекта
```

### 2. Синхронизация цветовых схем

```
Экспортируй цветовую палитру из Figma и обнови файлы colorPalette.json, tokensDarkTheme.json и tokensLightTheme.json
```

```
Сгенерируй ColorSet файлы для Xcode на основе цветов из выбранного фрейма в Figma
```

### 3. Создание новых компонентов

```
Создай новый View для UserStories на основе выбранного экрана в Figma, следуя архитектуре проекта (View + ViewModel + Assembly)
```

```
Сгенерируй TaskRow компонент на основе выбранного элемента списка в Figma
```

### 4. Обновление существующих компонентов

```
Обнови NewTaskView на основе нового дизайна из Figma, сохранив существующую логику
```

```
Адаптируй стили в SettingsRowView под новый дизайн из выбранного элемента в Figma
```

## Специфичные задачи для проекта Tasker

### Работа с задачами (Tasks)

```
Создай новый дизайн для TaskCard на основе выбранного компонента в Figma и интегрируй с TaskModel
```

```
Обнови TaskListView с новым дизайном из Figma, сохранив интеграцию с TaskService
```

### Работа с категориями (Categories)

```
Сгенерируй CategoryRow компонент из выбранного дизайна в Figma для CategoriesView
```

```
Создай новый дизайн для NewCategoryView на основе экрана из Figma
```

### Настройки (Settings)

```
Обнови SettingsView с новым дизайном из Figma, сохранив существующую структуру SettingsSection
```

### Навигация и иконки

```
Экспортируй выбранные иконки из Figma в формате PDF для папки Assets.xcassets/Navigation/
```

```
Обнови Router с новыми экранами на основе flow из Figma
```

## Автоматизация процессов

### 1. Обновление дизайн-токенов

```python
# Пример интеграции с существующим скриптом generate_xcode_colors.py
Интегрируй экспорт цветов из Figma с существующим скриптом generate_xcode_colors.py
```

### 2. Синхронизация ассетов

```
Настрой автоматическую синхронизацию иконок и изображений из Figma в Assets.xcassets
```

### 3. Валидация дизайна

```
Проверь соответствие реализованных компонентов дизайну в Figma и предложи улучшения
```

## Продвинутые сценарии

### Создание темной темы

```
Создай темную версию выбранного компонента из Figma и обнови соответствующие ColorSet файлы
```

### Адаптивный дизайн

```
Адаптируй выбранный экран из Figma под разные размеры экранов iPhone, используя SwiftUI
```

### Анимации

```
Создай SwiftUI анимации на основе интерактивного прототипа из Figma
```

## Интеграция с архитектурой проекта

### Следование паттернам

При генерации кода всегда указывайте:

```
Создай компонент следуя архитектуре проекта Tasker:
- Используй MokayDI для dependency injection
- Создай Assembly для регистрации зависимостей  
- Следуй паттерну View + ViewModel
- Интегрируй с существующим TaskService через протоколы
```

### Работа с данными

```
Интегрируй новый компонент из Figma с существующими моделями TaskModel и TaskCategoryModel
```

```
Обнови компонент для работы с SwiftData через существующий ModelContainer
```

## Полезные команды для отладки

### Проверка токена

```bash
curl -H "X-Figma-Token: YOUR_TOKEN" https://api.figma.com/v1/me
```

### Получение информации о файле

```bash
curl -H "X-Figma-Token: YOUR_TOKEN" https://api.figma.com/v1/files/FILE_ID
```

### Тестирование MCP сервера

```bash
npx figma-developer-mcp --help
```

## Советы по эффективному использованию

1. **Всегда выбирайте элемент в Figma** перед выполнением команды
2. **Указывайте контекст проекта** для лучших результатов
3. **Используйте конкретные имена** компонентов и файлов
4. **Проверяйте совместимость** с существующей архитектурой
5. **Сохраняйте консистентность** с дизайн-системой проекта

## Troubleshooting

### Частые ошибки

1. **"No selection in Figma"** - убедитесь, что элемент выбран в Figma
2. **"Invalid token"** - проверьте правильность токена доступа
3. **"Server not running"** - убедитесь, что Dev Mode MCP Server включен в Figma

### Логи и диагностика

Проверьте логи MCP-клиента для диагностики проблем с подключением к Figma.

